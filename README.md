# 更新
更改了login和register的界面，然后register里有一些东西需要后端重写一下，具体可以看Web-flaskr2/flaskr/flaskr/templates/auth/temp_reg.html里的注释，我大概写了要如何修改auth.py里跟注册有关的内容。

以及这个文件夹为什么会这么多层。。。有一些是不是冗余的啊。。。



## 更新 18.12.9

大体布局已经全部写完了，剩下还有一些细节还要慢慢再改。

html文件中带temp_前缀的是有用的文件，其余的跟最终成品没有直接关系。

需要后端对接的地方：

1. 对于每个用户，需要新增一些变量。需要记录每个用户收藏的帖子，以及回复总数，回复总数我暂时命名成replynum。另外需要存用户的头像。刚注册的时候应该为空，我这边会自动给未设置头像一个头像，然后通过个人设置里面上传改变头像。头像我这边暂时命名的是avatar
2. 对于每一个帖子，希望同时存储发帖者的nickname，这样nickname用来显示在屏幕上，username用来登录。
3. 每个帖子需要记录被收藏的次数以及被回复的次数。我暂时命名成了marknum（收藏次数）和replynum（回复次数）。
4. 每个帖子需要储存发帖者的头像。头像也命名成avatar
5. 每个帖子需要记录是否是置顶和精帖。我暂时命名的是top和goodpost
6. 回复取消title，只用body就行了，以及也是一样的问题，需要记录nickname
7. 回复的回复不用管。。。应该我这边能怎么弄一下让它在回复的文字框里@那个人才对= =
8. 需要写一个删除回复的函数，我不是很清楚后端需要怎么实现？我参考删除帖子的前端胡写了一个不知道能不能接上。。。
9. 用户个人设置和个人主页那一块需要新写py文件【或者写在auth里也可以？那这样我就把重定向改成auth.xxx就行了，以及因为这里没py文件前端能不能正常运行就玄学了= =后端写得差不多了互相报错吧【可能就单方面指教前端了
10. 用户需加邮箱（email）属性，注册的时候设成空就行了，之后可以在设置里改。
11. 用户需加创建（created）属性，记录什么时候注册的账号。
12. 用户需加markposts属性，记录收藏的帖子

## 关于文件上传的一个问题 18.12.11

现在文件上传跟帖子是不绑定的关系是吗？我看这个只存了name和file的位置。如果想做文件在对应的帖子中展现那么就需要在帖子的属性里面也记录，如果只是想在一个页面里把所有的文件下载连接弄出来的话那就前端再写一个网页。